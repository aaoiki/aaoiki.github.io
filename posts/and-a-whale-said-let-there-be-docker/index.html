<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#1b1918">

    <title>And a Whale Said Let There Be Docker | aonemd</title>

    <link rel="shortcut icon" type="image/x-icon" href="/images/logo.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/logo.png" />

    <link rel="stylesheet" href="/assets/index.css"><meta name="description" content="Code and Language">


<meta property="og:type" content="article" />
<meta property="og:url" content="https://aonemd.github.io/posts/and-a-whale-said-let-there-be-docker/" />
<meta property="og:site_name" content="aonemd" />
<meta property="og:title" content="And a Whale Said Let There Be Docker" />
<meta property="og:description" content="Code and Language" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@aonemd" />
<meta name="twitter:creator" content="@aonemd" />
<meta name="twitter:title" content="And a Whale Said Let There Be Docker" />
<meta name="twitter:description" content="Code and Language" />


  <meta itemprop="image"         content="https://aonemd.github.io/images/logo.png" />
  <meta property="og:image"      content="https://aonemd.github.io/images/logo.png" />
  <meta name="twitter:image"     content="https://aonemd.github.io/images/logo.png" />
  <meta name="twitter:image:src" content="https://aonemd.github.io/images/logo.png" />

</head>

  <body class="light">

<nav>
  <div class="title">
    <a href="/">
      <img src="/images/logo.png" class="logo">
      <span>&nbsp; a<b>one</b>md</span>
    </a>
  </div>

  <label for="toggle">&#9776;</label>
  <input type="checkbox" id="toggle">

  <div class="row empty-row"></div>

  <div class="menu">
    <a href="/about" class="">
      about
    </a>
    <a href="/talks" class="">
      talks
    </a>
    <a href="/categories" class="">
      categories
    </a>
    <a href="https://twitter.com/aonemd" target="_blank">
      <svg><use xlink:href="/images/icons-sprite.svg#icon-twitter"></use></svg>
    </a>
    <a href="https://github.com/aonemd" target="_blank">
      <svg><use xlink:href="/images/icons-sprite.svg#icon-github"></use></svg>
    </a>
    <a href="https://gitlab.com/aonemd" target="_blank">
      <svg><use xlink:href="/images/icons-sprite.svg#icon-gitlab"></use></svg>
    </a>
    <a href="mailto:aonemdsaleh@gmail.com" target="_blank">
      <svg><use xlink:href="/images/icons-sprite.svg#icon-mail"></use></svg>
    </a>
    <a href="/index.xml" target="_blank">
      <svg><use xlink:href="/images/icons-sprite.svg#icon-rss-squared"></use></svg>
    </a>
    <a href="javascript:void(0)" id="theme-toggler-element" class="inverted">
      <svg><use xlink:href="/images/icons-sprite.svg#icon-moon-fill"></use></svg>
    </a>
  </div>
</nav>

  <article>
    <div class="row">
      <div class="col-6 col-m-12 center">
        <div class="view-post__en-title text-center center">
          <h2>And a Whale Said Let There Be Docker <small class="view-post__category">Tools</small></h2>
          <b><span>August 15, 2015</span></b>
        </div>

        <br>

        <div lang='en'>
          <p>Every time I had to work on a new machine or I wanted to try a new technology,
I used to install a lot of packages and libraries to prepare my development
environment. I always struggled to manage dependencies and different versions of
packages. That mostly worked for me but I had to go over this hustle everytime.
Besides, after some time the machine I was working on used to get a bit slower.</p>
<h3 id="and-then-there-was-docker">And then there was Docker</h3>
<p><img src="/images/docker_cover.png" alt="Docker cover"></p>
<p>I have been recently hearing about virtualization, Linux Containers, Docker, Vagrant, etc.,
but Docker became sort of the hype these days.
I wanted to give it a try anyway specially after
<a href="https://twitter.com/cousine">@cousine</a> had recommended using Docker to me.</p>
<p>So I started this weekend by installing a new version of <a href="https://elementary.io/">Elementary
OS</a> and <a href="docker.io">Docker</a>, and set up my
<a href="/posts/the-dotfiles">dotfiles</a> on my main development
laptop.</p>
<p>You can install and use any of the available packages on your machine using
Docker images from database servers to frameworks or tools like Nodejs or
Jekyll. It&rsquo;s also possible to create your own dockerized images.  I installed
different kinds of images for my local development</p>
<p><img src="/images/docker_images_screenshot.png" alt="Docker images"></p>
<p>As Docker is often used for deployment and packaging dependencies, it could
also be used for local development.  This is about satisfying the perfectionist
in me.</p>
<h3 id="example">Example</h3>
<p>I use <del><a href="https://jekyllrb.com/">Jekyll</a></del> (now <a href="https://gohugo.io">Hugo</a>) to generate this blog.
Before Docker, I had to install a Ruby version manager such as rbenv, Ruby, RubyGems, and Jekyll
just to start blogging. But now all I do is just this:</p>
<h4 id="1-install-docker">1. Install Docker</h4>
<p>It&rsquo;s in the <a href="https://docs.docker.com/">documentation</a>.</p>
<h4 id="2-pull-download-a-jekyll-image-from-dockerhubhttpshubdockercom">2. Pull (Download) a Jekyll image from <a href="https://hub.docker.com/">DockerHub</a>:</h4>
<p>I use <a href="https://hub.docker.com/r/grahamc/jekyll/">this image</a>. It does the job very well</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">docker</span> <span class="n">pull</span> <span class="n">grahamc</span><span class="o">/</span><span class="n">jekyll</span>
</code></pre></div><h4 id="3-create-a-new-blog">3. Create a new blog:</h4>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">v</span> <span class="s2">&#34;$PWD:/src&#34;</span> <span class="o">-</span><span class="nb">p</span> <span class="mi">4000</span><span class="p">:</span><span class="mi">4000</span> <span class="n">grahamc</span><span class="o">/</span><span class="n">jekyll</span> <span class="kp">new</span> <span class="n">my_blog</span>
</code></pre></div><p>You may need to change your folder permissions if you didn&rsquo;t add your user
account to docker group</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">sudo</span> <span class="n">chmod</span> <span class="o">-</span><span class="n">R</span> <span class="n">o</span><span class="o">+</span><span class="n">rw</span> <span class="n">my_blog</span>
</code></pre></div><h4 id="4-start-the-app">4. Start the app:</h4>
<p>Open a terminal in your blog directory and run Jekyll server</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">sudo</span> <span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">v</span> <span class="s2">&#34;$PWD:/src&#34;</span> <span class="o">-</span><span class="nb">p</span> <span class="mi">4000</span><span class="p">:</span><span class="mi">4000</span> <span class="n">grahamc</span><span class="o">/</span><span class="n">jekyll</span> <span class="n">serve</span> <span class="o">-</span><span class="n">H</span>
<span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span><span class="o">.</span><span class="mi">0</span>
</code></pre></div><p>Now if you open <code>0.0.0.0:4000</code> in a browser, you&rsquo;ll find your blog
working just fine.</p>
<h3 id="more-practical-example">More Practical Example</h3>
<p>I had a PHP web project for first time so I searched for PHP and Apache Docker
images and luckily I found a Docker file that installs all the necessary
packages and dependencies. I cannot exactly remember where I got it from
besides I changed some lines in the original (anyway, here&rsquo;s another one that
<a target="_blank" href="https://github.com/dockerimages/docker-xampp">installs XAMPP</a>.
I combined it with
<a target="_blank" href="https://docs.docker.com/compose/">docker-compose</a> to link
the app to MySQL databse image. I run the app with a very simple command:</p>
<div class="highlight"><pre class="chroma"><code class="language-ruby" data-lang="ruby"><span class="err">$</span> <span class="n">docker</span><span class="o">-</span><span class="n">compose</span> <span class="n">up</span>
</code></pre></div><p>and everything is working fine</p>
<p><img src="/images/docker_bshop_screenshot.png" alt="Bshop 1">
<img src="/images/docker_bshop_screenshot1.png" alt="Bshop 2"></p>
<p>You can find the full project along with Docker and docker-compose files
<a target="_blank" href="https://bitbucket.org/aonemd/bshop">here</a>.</p>

        </div><div class="row">
  <div class="col-12 text-center">
    <div class="social">
        <a id="twitter" href="https://twitter.com/share?url=https%3a%2f%2faonemd.github.io%2fposts%2fand-a-whale-said-let-there-be-docker%2f&text=And%20a%20Whale%20Said%20Let%20There%20Be%20Docker&hashtags=docker%2clinux%2ccontainers&via=aonemd" target="_blank">
          <svg><use xlink:href="/images/icons-sprite.svg#icon-twitter"></use></svg>
        </a>
        <a id="facebook" href="https://facebook.com/share.php?u=https%3a%2f%2faonemd.github.io%2fposts%2fand-a-whale-said-let-there-be-docker%2f" target="_blank">
          <svg><use xlink:href="/images/icons-sprite.svg#icon-facebook"></use></svg>
        </a>
        <a id="reddit" href="https://reddit.com/submit?url=https%3a%2f%2faonemd.github.io%2fposts%2fand-a-whale-said-let-there-be-docker%2f&title=And%20a%20Whale%20Said%20Let%20There%20Be%20Docker" target="_blank">
          <svg><use xlink:href="/images/icons-sprite.svg#icon-reddit"></use></svg>
        </a>
        <a id="linkedin" href="https://www.linkedin.com/shareArticle?mini=true&title=And%20a%20Whale%20Said%20Let%20There%20Be%20Docker&url=https%3a%2f%2faonemd.github.io%2fposts%2fand-a-whale-said-let-there-be-docker%2f&&summary=Every%20time%20I%20had%20to%20work%20on%20a%20new%20machine%20or%20I%20wanted%20to%20try%20a%20new%20technology%2c%20I%20used%20to%20install%20a%20lot%20of%20packages%20and%20libraries%20to%20prepare%20my%20development%20environment.%20I%20always%20struggled%20to%20manage%20dependencies%20and%20different%20versions%20of%20packages.%20That%20mostly%20worked%20for%20me%20but%20I%20had%20to%20go%20over%20this%20hustle%20everytime.%20Besides%2c%20after%20some%20time%20the%20machine%20I%20was%20working%20on%20used%20to%20get%20a%20bit%20slower.&source=https://aonemd.github.io" target="_blank">
          <svg><use xlink:href="/images/icons-sprite.svg#icon-linkedin"></use></svg>
        </a>
        <a id="googleplus" href="https://plus.google.com/share?url=https%3a%2f%2faonemd.github.io%2fposts%2fand-a-whale-said-let-there-be-docker%2f" target="_blank">
          <svg><use xlink:href="/images/icons-sprite.svg#icon-googleplus"></use></svg>
        </a>
        <a id="pocket" href="https://getpocket.com/save?url=https%3a%2f%2faonemd.github.io%2fposts%2fand-a-whale-said-let-there-be-docker%2f&title=And%20a%20Whale%20Said%20Let%20There%20Be%20Docker" target="_blank">
          <svg><use xlink:href="/images/icons-sprite.svg#icon-pocket"></use></svg>
        </a>
    </div>
  </div>
</div>
<hr>

<input type="hidden" id="issueId" value="2">
<div id="comments"></div>

<link rel="stylesheet" href="/assets/comments.css">
<script type="text/javascript" src="/assets/comments.js" async>
</script>
</div>
    </div>
  </article>


    <script async type="text/javascript" src="/assets/index.js" charset="utf-8"></script>
  </body>
</html>
